09/05/2022

Ayer y anteayer estuve mirando el código por arriba. Ya hoy lo agarré y
lo emprolijé borrando varias cosas comentadas. Entre ellas, creo que lo que
estuvo bien borrar son las matrices de agentes activados y la de grado medio
de las redes.

Ahora, yo quiero mandar a correr el sistema, teniendo este opiniones positivas,
un campo externo y un coeficiente que regule la intensidad con la que
las opiniones caen a cero. El coeficiente ya lo agregué y vale 1.
Para que las opiniones sean postivas reemplace el uso de la función Gaussiana
por una distribución uniforme entre [0 y 5]. Me pareció que 5 sería razonable.

Para el campo externo, tengo que agregar un término a la ecuación dinámica que
se sume a todo el resto de agentes, se me ocurre que se sume justo antes
de rearmar la red y que la intensidad del campo externo sea tres o cinco.
Podría barrer en eso también.

¿Qué datos quiero mirar? Me interesa en principio ver las opiniones iniciales
y las finales, la Varprom y el comportamiento de los testigos.

Bien, ya preparé para que se construyan dos archivos, uno que es Opiniones
y toda la perorata, que guarda los siguientes datos:
Opiniones iniciales
Varprom
Opiniones Finales
Semilla

El segundo archivo, que es Testigos y la perorata, guarda las opiniones de
diez testigos de manera que cada columna es la evolución de las opiniones
de un testigo. En realidad cada dos columnas.

Todavía queda agregar el campo externo y ya podemos empezar a ver qué hace esto.
Lo agregué al campo como una influencia que surge en cada iteración previa a que
el sistema rearme la red. 

Creo que está armado el código, lo podemos mandar a correr. Ya revisé y corregí
los errores con el Cygwin. Voy a barrer en el campoext y en lambda, que es la
intensidad del decaimiento.

Ya el programa lo mandé a correr, pero está teniendo problemas. Por algún motivo,
las opiniones no se actualizan. Y además, el cálculo de Varprom me da "inf".

---------------------------------------------------------------------------------

10/05/2022

Hoy es el primer día que vine a la facultad, me instalé en la oficina, descargué
programas, instalé Github Desktop y Notepad ++.

Después pasé el resto del día trabajando en el archivo de main para que el modelo
labure en el caso de tener opiniones positivas en su distribución inicial.
Estuve un buen rato porque había problemas en el código que me costaban encontrar.
Al final lo que ocurría es que estaba pisando un vector no declarado, que es el
vector de los agentes activados. Un vector que había eliminado pero que estaba siendo
llamado en una de las funciones de las redes de actividad. Creo que en la función que
establece los enlaces de los agentes activados.

----------------------------------------------------------------------------------------

16/05/2022

Entre el martes pasado (10/05/2022) y hoy lunes (16/05/2022) no hubo mucho trabajo
porque estuve yendo a la TREFEMAC, mis viejos se fueron y hubo que cuidar a los
perros. Fueron días movidos y complejos. Esta semana me voy a mudar, así que
vamos a ver qué podemos avanzar. Encima está el trabajo del Labo de Datos.
Está fuerte la semana.

Volviendo al trabajo, hoy ya me puse a armar datos del modelo en tres casos:
1) alfa = 0, Cdelta = 0.
2) alfa = 2, Cdelta = 0.
3) alfa = 2, Cdelta = 1.

Lo siguiente es tomar estos datos y armar los gráficos de distribución de opiniones
en el espacio de tópicos.

Ya logré armar los gráficos con los datos que hice. Falta ajustar un poco los gráficos,
pero en líneas generales están. Lo que se observa es un que en los casos de consenso
las opiniones forman una nube cerca del cero en la región positiva del espacio de
tópicos. Algunas opiniones llegan a valores negativos, estudiar eso cómo ocurre.

Por otro lado, los gráficos de distribución de las opiniones 2D en los casos de
polarización descorrelacionada y estado ideológico son indistinguibles. Además,
hay mucha variabilidad en el tiempo. Bah, habría que ver qué significa "mucha".
En principio el programa puede tardar entre 15 y 40 unidades de tiempo.

Lo siguiente sería ver si podemos restringir el espacio de los valores observados
de manera de enfocar mejor el gráfico hacia los datos graficados y que no
sea tanto un gráfico vacío.

Hecho eso, habría que analizar porqué algunos valores se vuelven negativos,
evaluar si los resultados obtenidos tienen sentido con lo esperado y si
habría que hacer nuevos gráficos o modificar el programa.

------------------------------------------------------------------------------

24/05/2022

Lo primero que hice a la mañana fue ajustar los gráficos para poder observar
mejor la distribución de opiniones en el espacio 2D. Si alfa es alto, para casos
de correlación cero o alta correlación, el sistema se comporta exactamente igual
y polariza en el primer cuadrante.

En cambio, para casos de controversialidad negativa el sistema se comporta tal cual
se comportó siempre, polarizando en los cuadrantes 2 y 4. Claramente las condiciones
iniciales no logran determinar el comportamiento del sistema para que este se
encuentre confinado al primer cuadrante.

Luego de eso estuve el resto del día estudiando la expresión de la ecuación dinámica
de la bifurcación transcrítica. Leyendo del Strogatz, básicamente se observa que
esta bifurcación se caracteriza porque dos puntos fijos intercambian estabilidad,
siendo que un punto fijo estable se vuelve inestable mientras que uno inestable
se vuelve estable. Esta ecuación aplicada a nuestro modelo permite que existan dos
puntos fijos, el 0 y el punto fijo (mu/K). Dependiendo del signo de mu, el cero
será un atractor o un repulsor. En particular, si mu es positivo, el cero es un
atractor, mientras que si mu es negativo, el cero es un repulsor. Y respectivamente,
el otro punto será un repulsor o un atractor.

Se me ocurre que esto nos permite proponer un nuevo comportamiento al sistema donde
ahora el primer término de la ecuación dinámica no es únicamente la tendencia de los
agentes a perder su convicción en el tema, sino que puede ser su apatía o interés en
los tópicos y por tanto se puede definir mu positivo para tópicos aburridos y 
mu negativo para tópicos interesantes.

Este análisis junto con la adaptación de la ecuación dinámica del modelo a la
ecuación dinámica de una bifurcación transcrítica están anotados en mi cuaderno.

El jueves sería ideal arrancar modificando la ecuación dinámica en el código,
remover las cosas sobre cálculos de tanh y empezar a observar el comportamiento
del sistema para distintos valores de mu, alfa y cos(delta). Luego de eso,
decidiremos el tema de cómo interpretar este nuevo parámetro. Hagamos la
documentación de esto a medida que voy haciendo los cambios.

---------------------------------------------------------------------------------

25/05/2022

Estuve un rato mirando el tema de la beca y del trámite de título.
Lo importante para hacer es en algún momento charlar sobre anotarme en la 
carrera de doctorado. Eso charlarlo con pablo.

Por otro lado, ya borré todo rastro de la tanh en el código. Modifiqué
la ecuación dinámica para calcular el cuadrado del producto entre la matriz
de superposición y el vector de opinión del agente j. Lo siguiente es empezar
a ver el comportamiento del modelo ante la variación de los parámetros
mu, alfa y Cdelta.

Estuve probando cosas en bash para poder pasar números con fracción directamente
desde Bash a mi programa de C y no tener que andar pasando enteros y sobre esos
armar una fracción para conseguir el número decimal deseado. La cosa es que en
Prueba.sh dejé anotado en los comentarios como se usa el comando bc, por lo menos
de forma rudimentaria. Y también como obtener los datos de un array. Con eso
ya puedo empezar a armar mis arrays en los archivos de Instanciar y desde ahí
pasar directo los valores de alfa y Cdelta deseados.

Con eso hecho, me puse a armar algunos datos del modelo con la ecuación dinámica
adaptada según la ecuación dinámica de una bifurcación transcrítica. Esto salió
mal. El término cuadrático potencia mucho a los agentes con opiniones mayores a
1, y esto hace que refuercen mucho a sus vecinos y el sistema entra en una espiral
de refuerzos que no frena más. Cada vez se aleja más y más. Ese término
cuadrático así pelado no va a servir. Necesitamos algo que contenga a las
opiniones en la región [0,1] para que se pueda usar. Se me ocurrieron formas
de normalizar la opinión, pero creo que hasta charlarlas con Pablo no tiene mucho
sentido explorarlas demasiado.

Hay una en particular que se me ocurrió y creo que estaría interesante. Espero
que Pablo y Sebas opinen lo mismo. Podría mañana mandarle un mensaje a Sebas y
ver qué piensa él al respecto.

----------------------------------------------------------------------------

30/05/2022

Agregué el término de normalización que entiendo es el máximo valor de opinión
que cualquier agente puede alcanzar, y eso sólo es posible si se conecta
con toda la red y además si toda la red está con opinión 1. Claramente este
es un máximo inalcanzable y por eso es que las opiniones de los agentes van
a estar muy tiradas al cero. Podríamos probar y ver si usando valores más
bajos de mu o valores más altos de K permiten que las opiniones de los
agentes despeguen un poco del cero. Pero esto es especulación, hay que hacer
las cuentas.

Para mencionar, también modifiqué en avanzar el Din2, tenía un else para un
if que no hacía realmente nada. Era cuando calculaba la sumatoria de opiniones
del segundo término. Si los agentes estaban conectados aplicaba la función
Din1. Si no estaban conectados, sumaba cero. Pero para sumar cero, directamente
ni pongo el else y listo.

También voy a ir armando carpetas para cada tipo de normalización, cosa de no
confundir los archivos. La carpeta con la normalización sobredimensionada es
Norm_Maxima.

Ya probé el modelo con Norm_Maxima. En el caso de mu positivo el sistema logra
converger y alcanza estados de consenso. Básicamente, lo que está pasando es
que las opiniones son lo suficientemente bajas como para no poder hacerle frente
al término que los tira al cero. En el caso del mu negativo, incluso para el caso
de alfa cero, el sistema eventualmente se dispara. El motivo es que la normalización
con alfa cero es simplemente 1. (Mu = 1). Entonces lo que ocurre es que la derivada
queda igualada a un término que es siempre positivo y por tanto crece en cada iteración.
Las opiniones se escapan.

Me parece que no podemos simplemente plantear el mu en valor positivo. Pero entonces
esta ecuación del punto de bifurcación no sé si tenga sentido de ser usada.

------------------------------------------------------------------------------------

01/06/2022

Lo primero que hice fue copiar el archivo de ActividadConexa.py y lo renombré
estudio_transcritico.py. Este segundo archivo lo usé para armar los gráficos de
Varprom, Tópicos vs T e Histograma 2D de los datos del modelo transcritico normalizado
de forma sobredimensionada. Esto tomó un rato y me hace ver que ese código podría
necesitar una buena pulida para verse mejor. Cosas como el armado del SuperDiccionario
necesitan realizarse mejor. Pero eso quedará para otro momento.

En la tarde estuve haciendo un análisis de las ecuaciones dinámicas del modelo para
el caso de dos agentes. En principio, no llegué a nada todavía. Claramente el estudio de
este tipo de ecuaciones dinámicas es complejo y no se puede encarar directamente.

----------------------------------------------------------------------------------------

02/06/2022

Se me ocurrió probar de estudiar el comportamiento del sistema en el caso de que
los dos agentes conectados tengan opiniones similares. Me suena razonable
como suposición si considero que las opiniones arrancan en el espacio positivo de
valores y que sólo van a reforzarse. Además, cada uno crece en función de la opinión
del vecino, entonces si sus opiniones tienen valores diferentes, el que tenga opiniones
más pequeñas crecerá más en una iteración que su vecino porque el que tiene opinión más
baja recibirá un impulso más grande de su vecino que tiene opiniones más grandes.

Estuve mirando las ecuaciones dinámicas e intentando estudiar el comportamiento del
sistema para el caso de 2 agentes conectados. Llegué a la conclusión de que para 2
agentes conectados, el sistema presenta dos puntos fijos, uno en el cero y el otro
en el borde que separaba las regiones de consenso y polarización según el paper de
Baumann. Al principio me pareció trivial, pero no creo que sea un resultado tan
trivial si consideramos que partí de una ecuación dinámica completamente diferente.
Quedaría estudiar la estabilidad de estos puntos, cosa que no hice todavía.

Antes de eso, me adelanté a estudiar el comportamiento del sistema con tres agentes.
Creo que eso resultaría bastante interesante y daría una buena comprensión de qué
está pasando. Espero sea resoluble. Lo siguiente sería empezar a simular el modelo
en estos casos y ver que los resultados coinciden con lo predicho analíticamente.

Y de paso, hoy a la tarde asistí al coloquio de física de Luz Ricci (nombre de la
expositora). Estuvo interesante, fue sobre análisis de materiales nanométricos
a través de métodos ópticos, algunas aplicaciones y métodos desarrollados. Eso
es un resumen muy breve.

---------------------------------------------------------------------------------------

03/06/2022

Durante la mañana y la tarde continué el análisis de las ecuaciones dinámicas
del modelo para el caso de bifuración transcrítica. Logré llegar a la conclusión
que en ambos casos el sistema presenta dos puntos fijos, si se toma como 
condición que para cada agente las opiniones en ambos tópicos son iguales.

Uno de estos puntos fijos es el cero, el cual puede ser un atractor o repulsor
dependiendo de si el coeficiente mu es positivo o negativo respectivamente.
El otro punto fijo toma el mismo valor que tomaba el modelo de Baumann para
el límite entre la región de consenso y la región de polarización. Este punto
fijo presenta autovalores positivos y negativos, con lo cual resulta un punto 
inestable que aleja al sistema en una dirección y lo atrae en otra. Esto me lleva
a pensar que no hay forma de que el modelo así como está planteado pueda ser
estable o converger a nada. Por tanto necesita fuertemente una revisión.

------------------------------------------------------------------------------------

06/06/2022

Hoy estuve leyendo el paper que Pablo me pasó sobre dinamica de polarización.
Anoté un resumen sobre esto en el archivo de resúmenes en la carpeta de Tesis
en el drive. Debería pasar los resúmenes del resto de papers a ese archivo y
ya usar ese archivo directamente.

------------------------------------------------------------------------------------

09/06/2022

Voy a hacer simulaciones del modelo para el caso de 2 agentes y 3 agentes. Para
eso necesito modificar el armado de la matriz de adyacencia, quitar todo el tema
de las actividades y agregar una condición de que el código corte si las opiniones
se alejan demasiado. También voy a necesitar carpetas nuevas en las que almacenar
estos datos.

Ya tengo armadas las carpetas y actualizada la documentación. Ahora puedo ponerme
a modificar el programa C. Después veré de repasar el archivo py cuando haga los
gráficos de esto y borraré todo lo innecesario, dejando el archivo .py previo
como la versión que contiene todo. Cosa de tener a donde retomar lo que busco.

Las modificaciones que tengo que ahcer son:
.) Cambiar el número de agentes. (Eso se hace en Instanciar.sh) DONE
.) Cambiar el armado de la red de Adyacencia, hacerla de forma manual. DONE
.) Quitar el uso de actividad. Fijarse que eso no genere warnings de 
variables definidas pero no usadas. DONE y DONE
.) Cambiar la carpeta en la cual se guardan los datos. DONE
.) Quitar la normalización de la ecuación dinámica. DONE
.) Agregar una condición de corte de la simulación si las opiniones
crecen demasiado. DONE
.) Modificar a los testigos, porque ahora sólo tengo tres agentes.
Incluso, podría sacarme de encima el guardar datos iniciales y finales
de la matriz porque los testigos tendrían todo. DONE

Creo que eso es todo lo que hay que hacer.

Ahí están anotados los que resolví, mañana continuar con lo de agregar la
condición de corte. Me quedé mirando la parte del while para ver que esto
corte bien. Desconfío de que el sistema cumpla correctamente esa condición.
Probar algo así en Prosem para ver que todo funque correctamente.

(Por alguna razón esa última frase no se guardó bien)

--------------------------------------------------------------------------------

10/06/2022

Terminé de hacer modificaciones al código en C para poder realizar simulaciones
de 2 y 3 agentes. Con esto ahora voy a observar si el sistema converge al cero
o luego diverge. Para los casos que diverge, el código debería cortar si la
norma del vector de opiniones es mayor al valor que tendría si las opiniones
de cada agente en cada tópico fuera 100. Haré 20 iteraciones para 2 y 3 agentes
con controversialidad variando de a 0,05 entre 0 y 0,2, y luego controversialidad
1. El Cdelta será 0 siempre y mu será 1 y -1.


Completó todo en segundos, ya después empezaré a ver los resultados de los datos.
Seguramente lo haga ya el lunes o martes eso.

---------------------------------------------------------------------------------

13/06/2022

En la mañana organicé algunas cosas con el grupo de Labo de Datos, hablé con
Lupi y eestuve armando el archivo de Conjunto_pequeño.py para estudiar los datos
simulados el otro día. Tome el de estudio_transcritico, lo copié y empecé a sacarle
todo lo que no fuera a usar en este caso. Estoy esquilmando el código para arrancar
nuevamente de cero, cualquier cosa que pueda necesitar después la copiaré. Además,
estoy independizándome del SuperDiccionario e implementando el uso de pandas
para manejar los nombres de los archivos.

Todavía queda revisar la mitad del código, pero buena parte de eso hay que simplemente
borrarla.

-----------------------------------------------------------------------------------

23/06/2022

Cómo pasaron 10 días de la última entrada me asusta un poco. Yendo a lo que hice hoy,
estuve revisando la ecuación dinámica e intentando pensar en soluciones para que no
crezcan de forma desmedida las opiniones de los agentes al interactuar. Para esto
se me ocurre modificar la función cuadrática por una función logarítmica. La función
logarítmica tiene una derivada que se hace más chica a medida que x crece, de forma
tal que si las opiniones crecen mucho esa derivada se hace pequeña. 

Para estudiar esto el proceso será parecido al anterior. Primero veré la ecuación
dinámica del punto transcrítico. Luego, pasaré a estudiar la ecuación dinámica aplicada
a nuestro modelo. Habrá que considerar los dos casos de aplicación del logaritmo que se
me ocurrieron y ver las diferencias de cada uno.

Por otra parte, Pablo propone ir pensando en cómo plantear el modelo en versión estocástica.
Para esto podés arrancar tomando parte del código que ya tenés de esto y re adaptarlo. Eso
suena lo más lógico.

También hay que considerar en los planes y en el tiempo el estudio para el final de
la materia de Dorso, que puede o no darse.

--------------------------------------------------------------------------------------

06/07/2022

Entre el 23 y hoy no es que estuve rascándome, el preparar el TP final de Labo de Datos
fue complejo. Al final Cami nos carreó como la mejor. Se merece un chocolatito o algo.

Cuestión que hoy estuve todo el día analizando la ecuación dinámica del punto transcrítico
para el caso en que la ecuación tiene un logaritmo en vez de una cuadrática. Claramente
la ecuación fue más compleja de resolver. Lo que descubrí con esto es primero que 
la aparición de un punto fijo en los valores positivos ya no depende del signo de "r"
sino de su módulo. Para "r" negativo o 0, el único punto fijo existente es el cero y
es un punto estable. En cambio, si "r" es mayor a cero y menor a uno, se tiene un 
punto fijo estable en el cero y un punto fijo inestable en un valor positivo de x. Si bien
no pude despejar el valor de este punto fijo en función de "r", sí pude despejar "r" en
función del punto fijo, de forma tal que puedo construir una ecuación para que tenga
un punto fijo en un valor deseado.

En el caso de "r" igual a uno se tiene que sólo el cero es un punto fijo y que además
es un punto silla, que siempre empuja al sistema hacia los valores positivos.

Finalmente, si "r" es mayor que uno se tiene que el cero es un punto fijo inestable
y por otro lado se tiene un punto fijo entre menos uno y cero, el cual se vuelve
estable. Nuevamente, si bien no se puede calcular el valor de este punto fijo en
función de "r", se puede sí calcular "r" en función del punto fijo y de esa manera
armar una ecuación a medida.

Luego estuve intentando resolver la ecuación dinámica aplicada a dos agentes conectados,
sin embargo esto resultó ser bastante más complicado de lo que parecía ya que al
querer hacer eso me surge una ecuación que tiene un logaritmo dentro de un logaritmo.
Un bardo importante.

Mañana vamos a intentar continuar con esto y resolverlo mejor. Hay que tomar en cuenta
que entonces este modelo no presenta punto fijo estable en los valores positivos de x.
Hay que ver cómo se puede crear un punto estable en los valores de x positivos. Seguramente
la separación de "r" en dos valores "K" y "mu" me permite más fácilmente jugar con la estabilidad
de esos puntos

---------------------------------------------------------------------------------------------------

13/07/2022

No comprendo cómo pasan tan rápido los días, simplemente no sé qué pasó entre 
la última vez que escribí y hoy. Pero vamos a intentar recordarlo. En la libreta
está anotado lo que pasó, ahora todo tiene sentido.

Cuestión que seguí trabajando la expresión dinámica del modelo con el logaritmo
en vez de la tanh. Esta vez los resultados son un poco más prometedores, se
observan dos puntos críticos, uno en cero y el otro en un valor positivo.
La existencia de este segundo punto crítico y el hecho de que sea positivo
no es algo trivial, pero con algo de cuidado creo que se puede lograr que se 
encuentre donde queremos en general. 
  Lo importante entonces es que estos dos puntos fijos obtenidos son o atractivos
  o repulsivos y dependiendo del signo de la variable mu alternan. Igual no hay que
  olvidar que los resultados que obtuve son para el caso más simple de todos, con
  varias aproximaciones. Hay que ver qué pasa después.
  
  
Ayer estuve armando un resumen con todo lo que analicé de esta ecuación dinámica
para poder mostrárselo a Pablo y a Lupi. Tengo hechos los gráficos y toda la
bola. Hoy lo charlamos rápido con pablo y me recomendó que arme una presentación
de esto y de los resultados obtenidos del sistema cuando reemplazamos la tanh por
una cuadrática. Así que ya mañana me pondré con eso.

Por otro lado, estuve trabajando en el archivo de python de Conjunto_pequeño.py.
Logré hacer que grafique, pero luego de mirarlo noté que los gráficos de Varprom
me graficaba una sóla iteración del sistema, cuando debería graficar la de cada
sistema. Esto me pareció raro, así que miré los archivos a ver qué pasaba. Y
por algún motivo desconocidos, pareciera que los datos armados son los mismos
exactos para las simulaciones dado un valor de N, alfa, cdelta, y mu. Es
muy raro eso, tengo que revisar qué pasó.

También noté que no tengo armada una documentación de la carpeta de trasncritico
y de la nueva carpeta que puse en imágenes. Debería corregir eso. Aunque quizás
haga esto a lo último, preparar la presentación tiene prioridad.

Lo otro que estaba pensando es que debe existir un entorno tipo anaconda o spyder
para trabajar python en Linux. Trabajarlo desde línea de comando es una paja, el
programa corre y no tenés mucho para hacer para chequear qué anda mal. Voy
a buscar mañana algo que sirva para eso, así ya trabajo más cómodo en la facultad.

La otra es mudar las cosas a notebooks, ir probando ahí y después descargarlo
en la pc. Pero me parece mucho laburo y una cagada francamente. Además tendría
que organizarme el drive. Y ya tengo tres grandes cosas que organizar, el drive,
el mail y algo más que ya no recuerdo.

Ya tengo marcado el laburo para mañana, mañana lo continuamos. Y mañana a
primera hora me anoto lo que hice en el cuaderno.

-----------------------------------------------------------------------------------

14/07/2022

Revisé los datos y al parecer el problema era que como el sistema tenía pocos
agentes, el código se resolvía muy rápido y no llegaba a cambiar la semilla.
Entonces, todos los archivos tenían la misma semilla y por eso arrancaban
con las mismas exactas opiniones.

Analizando los gráficos, se observa que los de Varprom tienen un pico al principio
de la curva. No puedo comprender qué genera ese pico. Lo miro y simplemente no lo
entiendo.

Dicho esto, ya puedo ponerme a trabajar directo en el tema de armar una presentación
de esto. Así que eso haré.

En la tarde estuve viendo unos videos sobre los temas de clases que iba a dar, así
que no pude trabajar tanto. Lo que hice fue cambiar el gráfico de histograma 2D por 
unos scatter plot, me parece que resultan mejores para observar cómo se distribuyen
las opiniones finales de los agentes en el espacio de opiniones. Podría incluso 
graficar las trayectorias, aunque creo que el gráfico quedaría sobrecargado. Probar
eso mañana, no es muy complejo.

Hecho eso, ya tengo todo lo necesario para hacer la presentación que me dijo Pablo.
Para eso tengo que:
.) Preparar datos para el modelo con la función logarítmica.
.) Graficar esos datos.
.) Actualizar la documentación acorde.
.) Armar la presentación:
  -) Arrancar con la ecuación original y lo que teníamos
  -) Ecuación dinámica transcrítica con función cuadrática
  -) Puntos fijos de la ecuación dinámica transcrítica y su análisis
  -) Análisis de la ecuación para el sistema con dos y tres agentes
  -) Gráficos obtenidos a partir de los datos y su interpretación
  -) Mostrar el código para que no queden dudas sobre lo hecho
  -) Ídem pero con la ecuación dinámica con función logarítmica

Me parece una buena presentación esa.

-------------------------------------------------------------------------------------

15/07/2022

A la mañana me quedé en casa para ir a buscar el DNI y revisé los papeles y cosas
que necesito para inscribirme al doctorado, ya la semana que viene empiezo a juntarlos.

En la tarde vine a la facultad, resolví varias cosas pequeñas como pagar la cuota
del lavarropas, hablar con Pablo sobre la carta a la comisión del doctorado y 
completar la documentación faltante de los archivos de las carpetas de imágenes,
Programas y la de Programas Python. 

Finalmente modifiqué el archivo main cosa de que la ecuación dinámica tenga el
logaritmo en lugar de la tanh. También armé la carpeta Trans_ln para ir guardando
los datos de las simulaciones. Después tendría que simplemente tomar el archivo
de Conjunto_pequeño y modificarlo cambiando la dirección de la carpeta cosa
de que arme los nuevos gráficos. Es una boludez de hacer.

Estuve pensando que si mi objetivo es corroborar las simulaciones con los resultados
analíticos, entonces debería calcular dónde caen los puntos fijos en función
de mis parámetros y ver si tiene algún sentido. Igual, no creo que sea algo tan
directo de ver.

Ya el lunes armo los gráficos y empiezo con la presentación. El martes debería
estar, dale, pongámonos las pilas. Y ya después de eso arrancamos con el planteo
del sistema con una evolución estocástica. Y si se puede, y encontramos un momento,
revisar el archivo de graficación de python. No me gusta cómo está planteada esa
cadena de fors. Tiene que haber algo más sencillo.

------------------------------------------------------------------------------------

18/07/2022

Hoy estuve revisando los gráficos armados por el modelo de la ecuación dinámica
transcrítica para el caso de la función logarítmica. Lo primero que se me ocurrió
es modificar lso valores de mu y de alfa barridos cosa de observar la aparición
de los puntos fijos y el cambio de estabilidad. Para eso modifiqué los mu's para
que varíen de 0.1 a 0.3 y alfa lo hice variar entre 0 y 1 de a 0.2, sin poner
el 0.6 o 0.8. Esto es porque si alfa vale cero, los tres valores de mu son mayores
que alfa, si vale 0.2 tengo un valor de alfa menor, uno igual y uno mayor, y
si alfa es 0.4 tengo tres valores de mu menores que alfa. Todo esto porque la 
relación entre alfa y mu es lo que determina si el punto fijo estable es un
valor positivo de opinión o si es el cero. Para que la aparición de este
punto fijo dependa de una relación 1 a 1 entre alfa y mu le cambié el valor
a K de 3 a 1.

Los gráficos de esto muestran que el valor del punto fijo estable positivo
depende de la relación entre mu, alfa y la cantidad de agentes del sistema.
Para 2 agentes, si mu < alfa el punto fijo estable es el cero, mientras que
en caso contrario el sistema busca un punto fijo positivo. En cambio para
3 agentes mu apenas más pequeño que alfa no parece alcanzar para que el
sistema decaiga completamente al cero.

En todo este análisis también observé que el armado de la matriz de Adyacencia
estaba mal hecho. Eso hacía que algunos agentes se conecten pero otros no.
Eso afectó tanto a estos datos, cosa que corregí al final, como a los datos
de Conjunto_pequeño, los cuales todavía no corregí. Esos necesitan ser corregidos
mañana para observar mejor qué pasaba con ese sistema.

Otra cosa que observé es que el Spyder me come completamente la RAM. No comprendo
por qué. Tendré que ver otra forma de hacerlo funcionar o si existe alguna solución
para que esa memoria se libere, porque se vuelve insostenible. Básicamente si dejo
abierto el spyder mucho tiempo, la RAM se llena progresivamente. Al cerrarlo, 
se libera todo de una. Es una bosta eso.

Ya mañana debería ver de armar la presentación completa. Para eso sólo faltan
los gráficos de la ecuación transcrítica con función cuadrática. Mañana
concentrémonos en eso únicamente, así ya tengo la presentación hecha y se
lo menciono a Pablo.

Después veré de solucionar el tema del consumo de la RAM. Quizás use algún
notebook como hacen los demás.

También modifiqué los gráficos de opiniones finales en el espacio de tópicos
para que ahora agreguen las trayectorias de las opiniones de los agentes.
Eso soluciona el tema de las escalas raras y además permite seguir mejor
el comportamiento del sistema.

--------------------------------------------------------------------------

19/07/2022

Al principio en la mañana me pelee con el hecho de que los gráficos del
sistema con la ecuación dinámica transcrítica y función cuadrática no
se veían. Cuestión que el número de Itextra y pasosprevios eran más
que suficientes para que el sistema explotara y no pudiera ni ser
graficado. Reduje bastante eso, y aún así el sistema alcanza valores
de opiniones o de variación promedio absurdamente altos. Pero por
lo menos son graficables.

Después estuve retocando los gráficos del modelo de baumann original
aplicado sobre valores iniciales de "interés" distribuidos sobre una región
positiva. Esto lo hice para que se vea un poco mejor al ponerlo en la presentación.

Le mandé un mail a Mariano respecto del tema de la carta que tiene que
mandar Pablo a la comisión de Doctorado. Esta semana tengo que tener
eso hecho.

Avancé con la presentación. En sí sólo hice el primero de los ítems que
tengo anotados, sin embargo me gusta cómo está quedando y es cierto que
el armado de la presentación toma tiempo por la parte de seleccionar los
gráficos, emprolijarlos, organizar la data. Creo que trabajé bien.

Mañana tengo que seguir con eso. Y ya el jueves me pongo con lo de la 
inscripción al doctorado cosa de tener eso hecho este mes.

-------------------------------------------------------------------------

20/07/2022

Hoy trabajé el armado de la presentación de la parte de la ecuación transcrítica
con función cuadrática. Preparé las primeras partes de la teoría y presentación
de la ecuación y después revisé los gráficos que podrían ser interesantes de
mostrar, así como los intenté emprolijar un poco para que se vean más fácilmente
interpretables. Tardé bastante más de lo que esperaba, la verdad que para hoy
yo pensaba ya tener terminada la presentación. El viernes no podré trabajar en
esto, así que quedará para la semana que viene. Mañana me quedo en casa para
preparar la documentación de la inscripción al doctorado y revisar el tema
de la RAFA.

La presentación está subida así como todos los archivos, podría probar si
tengo tiempo de ver de avanzar esto.

----------------------------------------------------------------------------------

26/07/2022

Hoy continué con el armado de la presentación. La verdad no avancé mucho, pero
es que me detuve a revisar algunos detalles, definir cuáles datos usar, rearmar
algunos gráficos para que se vea mejor las marcas en los ejes, revisar por qué
en unos gráficos la opinión daba mas grande que en otros, parchar los gráficos
de variación en los que el primer valor tiene ese salto raro y feo.

Cuestión que me enganché con cosas que no debí haber mirado y me consumieron más
de lo necesario. Ya mañana hago la parte de la ecuación transcrítica con función
logarítmica, no debería tardar mucho, sería algo muy similar a lo hecho en el
caso de la función cuadrática. Los gráficos además ya debería tenerlos. Si veo
que la representación logarítmica no va, lo vuelvo a pasar a representación
lineal. Después mañana pensaré si tengo algún lugar para poner los gráficos
de Varprom. O si son necesarios. Después podría poner algunos más en un apéndice.

Terminado esto, lo siguiente ya sí sería empezar a pensar el modelo en términos de
interacción de a pares, plantear una evolución estocástica del modelo. Para eso
tengo que utilizar el código que tenía en su momento sobre esto. Lo tendré que
actualizar. Y al hacer eso, puedo aprovechar y actualizar otros códigos.

-----------------------------------------------------------------------------------

27/07/2022

Estoy armando la parte de la presentación de la bifrucación transcrítica logarítmica.
Ya creo tener hecha la parte teórica, quedaría entonces armar la parte de los gráficos
y resultados. Cuando me puse a ver eso, me dió la sensación de que quedarían mejor
los gráficos en escala lineal y no logarítmica. Eso implica volver a correr
el archivo de Conjunto_pequeño.py. Eso me hizo pensar en que la Varprom está
corrida en el primer valor para no ver ese feo e inexplicable pico inicial. Pero en
el caso de las funciones logarítmicas ese pico no aparece en el primer paso, sino
20 pasos más adelante. Ese número no es casualidad, hay algo claramente mal en el
cálculo de la Varprom en el programa de C, y tengo que corregirlo.

Es así que miré el archivo de C y noté cosas que no me gustan. Primero, los
datos de las opiniones que se guardan en el archivo correspondiente lo hago
a partir de usar fors, siendo que existe y queda más prolija la función
Escribir_d. Lo segundo, está claramente mal la utilización del 
i_IndiceOpiPasado. Se nota que está corrido, creo que el problema surge en
la parte de las iteraciones, que el indice se adelanta un lugar y eso deja
que el punto inicial quede sin compararse. Eso es lo que produce el cambio
brusco en la Varprom en el paso número i_pasosprevios. Cambiaré eso
del main de la transcrítica cuadrática y de la transcrítica logarítmica.

Esto queda como trabajo pendiente para mañana, o en su defecto el viernes.
Continuando con la presentación, agregué unas cosas que me parecen importantes
a la parte teórica de la transcrítica logarítmica. Y también seleccioné y
agregué los gráficos pertinentes para estudiar el comportamiento del sistema.
Ahora sólo queda agregar las conclusiones, poner la ecuación dinámica junto al
resto de los gráficos y creo que eso es todo. (Conclusiones engloba lo que
aprendí de la transcrítica logarítmica así como lo que se me ocurre hacer
a continuación)

-----------------------------------------------------------------------------

28/07/2022

En la mañana terminé la presentación, completé lo que faltaba de las conclusiones
de la transcrítica y la revisé para ver que no faltara nada o que no hubiera errores
en las ecuaciones.

Ahora en la tarde voy a revisar el archivo main de la transcrítica cuadrática y la
logarítmica para corregir las cosas que vi ayer. Hecho eso y comprobado que los gráficos
de Varprom salen bien, voy a ponerme con el tema de plantear el modelo como una evolución
de interacciones de a pares. Luego de eso podría revisar los archivos de Python para
ver si los puedo emprolijar u organizar mejor. Y después me pondré a preparar el
barrido del espacio de parámetros del modelo.

Ya revisé el archivo main.c de la transcrítica cuadrática y lo emprolijé todo, reorganicé
el código para que las cosas referentes a una parte del código estén todas juntas y
no vayan todas desperdigadas. También agregué una función para armar matrices de adyacencia
completamente conectadas. Corregí la parte de las cosas que hago a mano que ya tienen
funciones y organicé todo el tema de la iteración para que primero se hagan las
cuentas y después se guarden los datos.

Queda para mañana probar si con esto se resuelve el tema del pico feo que se
observa en los gráficos de Varprom.

--------------------------------------------------------------------------------

29/07/2022

Calculé nuevos datos para la ecuación transcrítica cuadrática usando el código
de C reordenado y emprolijado. Los resultados dan bien y ya no tiene el problema
de que la Varprom tiene ese pico feo al principio.

Visto que esto funciona bien reorganicé el código de la ecuación transcrítica
logarítmica y me armé nuevos datos. En este caso también funcionó bien y con esto
ya tengo estos dos códigos completos y funcionando.

Lo siguiente sería entonces armar un barrido en el espacio de parámetros para
caracterizar mejor los valores a los cuales tienden los agentes. Para eso 
lo ideal sería pasar los datos a Algarve u Oporto y empezar a correr. Pero
antes de eso estaría bueno hacer una limpieza de esas computadoras, ver lo que
sirve y lo que no sacarlo así no ocupa espacio ni confunde. Pablo también propuso
el normalizar la suma dentro del logaritmo por el número de agentes. Si bien
el número de agentes me parece un poco grande como normalización, me parece una
buena idea poner algo para que los intereses dentro del logaritmo no
crezcan tanto y los valores de interés se encuentren más contenidos.

Dicho esto, pasaré el resto de la tarde preparando el código de la evolución
del sistema con interacción de a pares. Para eso voy a tomar el código que
tenía de antes de la tesis, el de interacción de a pares.

---------------------------------------------------------------------------------

01/08/2022

Hoy estuve con varias pequeñas cosas que me consumieron todo el día, así
que no avance demasiado. Igualemente, resolví el tema del RK4. Lo revisé
y efectivamente estaba mal, estaba básicamente trabajando como un Euler
ineficiente. Así que para solucionar eso, hice un recambio de cosas en
el código. El RK4 particularmente lo dejé tal cual estaba, ese no necesitaba
cambios. Modifiqué el nombre del vector PreOpi a OpiPosterior. Este vector
ahora lo que hace es ir guardando los valores de opiniones que voy calculando
del próximo paso. De esta manera voy usando el RK4 para calcular los nuevos
valores de opiniones de mis agentes, los guardo en OpiPosterior y una vez
terminado de evolucionar a todos los agentes y todos sus tópicos, paso a 
reescribir el vector de Opi con los resultados de OpiPosterior.

Tambien modifiqué los input de Iteracion, porque me parece que si bien
funcionaba el mandarle el puntero del struct directo, creo que resultaba
oscurecedor respecto de cuál es el puntero que se estaba evolucionando.

Lo puse a prueba. Para empezar las 4 pendientes calculadas son distintas.
Si bien la segunda y tercera parecen iguales, se distinguen en los últimos
decimales. Por otro lado lo comparé con esos valores calculados a mano
con la calculadora, la primer pendiente me dió lo mismo, así que parece
que está bien.

Me queda mañana usar esto para corregir la transcrítica logarítmica, luego
corregir la transcrítica cuadrática y ver si los resultados son distintos o
no. También revisaría el RK4 para ver si se me ocurre hacer más sencillos los
comentarios. Terminado eso, ahora sí, laburo el caso de evolución estocástica
del sistema.
-----------------------------------------------------------------------------

02/08/2022

Probé las correcciones hechas sobre el RK4 al detalle con un archivo de
Python aparte. Por lo visto, funciona perfecto. Ahora lo que debería hacer
es correr los datos de la transcrítica logarítmica y ver que los gráficos
no sean muy distintos a lo que yo puse, sino caer en la desesperación.

Hecho esto, podemos finalmente pasar a estudiar la evolución del modelo
en el caso estocástico. Bueno, quizás no pasemos tan diréctamente a esto.
De Secretaría Académica me mandaron un mail diciendo que le hable a un cierto
profesor para que él me tome el final de Física Computacional. Si sumo eso
con el hecho de que voy a empezar a cursar el cuatri que viene, voy a
avanzar lento con esto, por lo menos el primer mes de cursada.

Pero superado eso, le entramos duro al armado del modelo estocástico.
Igual mañana ya podría ponerme con eso y tener algo ya funcional, digo yo.

-------------------------------------------------------------------------------

03/08/2022

Lo primero que hice fue plantear el cómo modificar el modelo para que realice una
evolución estocástica. Esto lo escribí en el cuaderno y ahí lo que menciono es el
tema de que necesito definir cómo es la selección del segundo agente para la
interacción del modelo. Esta selección actualmente se resuelve de manera
equiprobable, tomando al segundo agente del conjunto total de agentes. Esto
puede cambiarse en cambio y para mi hay dos opciones características. La primera
es que el segundo agente se tome del subconjunto de vecinos del primer agente
de forma equiprobable, entendiendo que la red del primer agente se construye
siguiendo el protocolo de construcción de la red de actividad que planteamos
en la tesis. La otra opción es desligarse completamente de la red y tomar
al segundo agente del conjunto total de agentes pero eligiéndolo con una
probabilidad condicionada por la homofilia entre los agentes, usando la
misma probabilidad que se usaba en el modelo.

Teniendo esto planteado, para comenzar a probar el código simplemente realicé
una evolución estocástica en la cual el segundo agente se selecciona equiprobablemente
de conjunto total de agentes de la red. Y el resto de la tarde me la pasé
probando manualmente que las cuentas realizadas sean las correctas. Haciendo
esto por suerte detecté que tenía mal planteada la función Din1 y estaba
aplicando la transcrítica cuadrática, no la logarítmica.

Ya mañana o pasado queda charlar con Pablo al respecto y tomar una decisión
sobre cómo evolucionar este sistema. Para mi lo ideal sería considerar 
un sistema sin una red compleja, directamente mandar el sistema a correr.
Quizás incluso podríamos proponer una red que se forme estocásticamente,
asignando actividad a los agentes y activándolos al azar, luego registrando
enlaces entre aquellos agentes que interactúan. Finalmente, estudiamos las
redes que surgen de estos comportamientos, sus propiedades y conectividad.
Me gusta la idea.

-------------------------------------------------------------------------------

04/08/2022

Hoy decidí primero dedicarme a armar un barrido de los datos del modelo
con la ecuación transcrítica logarítmica. Para eso necesito definir la 
región del espacio de parámetros que voy a recorrer y también necesito
tener acceso a las computadoras de Algarve y Oporto. Hablé con Pablo y
me explicó como entrar. Desde la computadora del DF es tan simple como
apretar ssh faviodic@computadora.df.uba.ar, reemplazando algarve u
oporto por computadora. Con Setubal todavía tengo que revisar el
tema de la contraseña porque no pude entrar.

En Oporto y Algarve borré todo lo viejo e innecesario, así no me estorba
ni me confunde. Lo siguiente será empezar a copiar cosas de la máquina
principal a las pcs para empezar a laburar. Eso lo haré a la tarde.
Espero no haber borrado nada útil. Confío en que no

Terminado eso empecé a preparar el archivo para caracterizar el modelo con
la ecuación logarítmica. Partí del códgio de trans_ln y fui agregando
cosas para el guardado de datos de Modelo_estocástico. Aún así faltan
cosas por hacer en el código. Son:
  .) Agregar una parte en la cual el sistema evolucione hasta que la
  red se vuelva conexa. Una vez que la red es conexa el código avanza
  a la siguiente etapa en la cual corre hasta alcanzar un estado estable.
  .) Modificar la ecuación dinámica para que dentro del log haya una 
  sumatoria y no una productoria. Este es en realidad un cambio doble,
  porque al hacer esto también tengo que cambiar el logaritmo natural
  por un logaritmo en base 10.

Hechas esas cosas, estamos en condiciones de mandar a correr el código
para probar cuánto podría tardar. Teniendo una idea del tiempo que 
tardaría en resolver para 1000 agentes, ahí sí lo mandamos a Algarve,
que creo están libres las máquinas, y corremos sobre los 20 hilos.

La idea es hacer eso mañana y ya la semana que viene arrancamos con la
materia de Dorso a Full.

-------------------------------------------------------------------------------

05/08/2022

Hoy trabajé dese casa, se puede laburar perfecto. Quién diría que cargar
todo a Github sería tan cómodo para laburar.

Cuestión, modifiqué varias cosas del código para la etapa Din_log.
Lo que hice en el main fue agregar una sección donde el sistema evoluciona hasta
generar una red conexa. También me aseguré de guardar las redes de Adyacencia
armadas, cosa de poder ver que efectivamente sean redes conexas.

En avanzar modifiqué el tema del logaritmo para que ahora el programa calcule
un logaritmo en base 10 y que además haga el logaritmo de la sumatoria
y no el de la productoria.

En inicializar aproveché y emprolijé la función de Conectar Adyacencia. Eso
necesitaba un retoque porque era muy molesto cada vez que necesitaba revisar
algo de ahí. Además había partes en las funciones donde buscaba elementos de
la matriz de adyacencia y utilizaba el número de filas en vez del de columnas,
un error feo pero que no se notaba porque el número de filas y de columnas
de la matriz de adyacencia son iguales.
Lo que sí noté es que había una parte del código que era una complicación al
pedo, algo sobre calcular distancias usando la norma, cuando en realidad dado
el espacio no ortogonal el tamaño de un vector se calcula distinto. Encima,
ni siquiera era necesario calcular esa distancia, no comprendo qué pasó.
Seguro el quilombo de cuentas me re confundió.

Ahora que suba esto a Github, ya probé y lo pasé a la pc de Oporto sin problemas.
La semana que viene puedo descargarlo en la facu, pasarlo a Oporto y de ahí
mandarlo a correr. Una vez que tenga eso, ya nos concentramos a full con el final
de Dorso. Esa cosa va a ser un bardo si no me dedico. Así que la semana que viene
haré poco y nada de la tesis. Igual, hace una semana que tengo cosas para mencionarle
a Pablo y charlarlas. Bueno, eso ya se verá. Me alegra haber podido laburar desde
casa, hoy me concentré bastante más en el laburo.

--------------------------------------------------------------------------------

08/08/2022

En la mañana bajé en la facultad el código que hice en casa. Le corregí dos
tonterías que faltaban, declarar unos ints y cositas. Terminado eso, cargué
el código en Oporto y actualicé el Instanciar.sh para que cree los arrays de
parámetros con valores floats y que no se mueva sólamente en valores enteros.
(Eso era un bardo extra). Lo probé y me fijé que todo funque bien.

Después revisé el Metainstanciación, esa cosa no necesitaba mucho laburo.
Corregidos y actualizados los programas de Instanciación, mandé a correr
en la pc de Oporto, ocupando los 20 hilos. Son 80 iteraciones de un barrido
en todo el espacio de parámetros, variando alfa, cdelta y mu en [0,1] de a
0,1. Si mis cuentas están bien, esto va a tomar tres días y medio en terminar
de correr. Así que un día antes del DDF va a estar terminado. Espero que nadie
necesite usar las pcs de Oporto.

Como soy un ansioso volví a mirar la pc de Oporto, ahí vi que el programa se
había trabado. Claro, había mandado a correr casos en los que el Mu es cero.
El sistema no tenía fuerza que lo tire hacia el centro, era puramente repulsor.
Nunca dejaba de crecer. Ahora modifiqué para que lo mínimo que mu pueda valer
sea 0,1 y lo volví a mandar. Esto estará para el 12/08, seguro.

En el entre tiempo, y hoy también lo hice, vamos a estudiar puro y duro la
materia de Dorso. Es un parto leer esos powerpoints. Y eso que estoy con los
primeros. Dios se apiade de nosotros.

--------------------------------------------------------------------------------

14/09/2022

El final de Dorso fue un evento complejo. Sin embargo, valió la pena, o eso
espero. Ahora voy a retomar esto y al mismo tiempo voy a estar trabajando en
pasar a Python el código de Fortran sobre el paper de Pablo. Tanto el de
"Los indecisos tienen la clave", como uno sobre modelo del votante. Así que
no sólo trabajaré en esto.

Acabo de revisar los archivos de datos y me estoy dando cuenta de que había
unos saltos de línea mal en el main, porque debía hacer que el salto de línea
sea en el archivo 2 y los hacía en el archivo 1. Eso llevó a que el archivo 2
que debería tener una línea por cada iteración del sistema tenga una sola línea,
mientras que en el archivo 1 debía tener toda la Varprom en una sola fila y la
tenía en múltiples filas con una sola columna. Un bardo. Esto significa que de nuevo
tengo que mandar a correr todo, otra vez. Lo bueno es que tengo laburo para hacer
mientras esto corre, así que no es taaan malo. Podría ser peor, podría estar necesitando
que esos datos estén perfectamente armados y querer cortarme las bolas.

Mandemos a correr eso de nuevo y mientras ir trabajando el armado de un archivo
de Python que prepare gráficos en base a esos datos, que estarán hechos cuando estén.
Ya hice las correcciones de los archivos main.c tanto en pc de Oporto como en 
mi pc.

------------------------------------------------------------------------------------

26/09/2022

Estos días estuve trabajando en armar el código que me pidió Pablo sobre el modelo
del Votante y el modelo de Deffuant, en preparar el TP de la materia de Mininni
y en la charla que di en la reunión de grupo.

Y además en un principio pensé que para no mezclar cosas lo mejor era no anotar
el trabajo hecho sobre lo de Pablo acá, pero siendo que eso también lo voy a
estar subiendo al Github, me parece que no tiene sentido no ir agregando notas.

Cuestión, arranqué por el modelo del votante, el cual estoy armando sobre una grilla
cuadrada. Este modelo evoluciona tomando un agente al azar y luego a un vecino de
este agente. Definidos los dos agentes, al segundo le pongo el valor de opinión del
primero. Este sistema evoluciona hasta que una sóla opinión domina.

Actualmente el código genera la grilla, la puebla y evoluciona el sistema seleccionando
agentes y copiando las opiniones. Para eso estoy usando el generador de grilla de 
networkx y el generador aleatorio de Numpy. Estas cosas nuevas que estoy aprendiendo
las estoy registrando en el código.

El miércoles seguiré con esto. La idea es armar un gráfico que se actualice a medida
que el sistema evoluciona y que eso me muestre el estado del sistema. Y después meter
todo en funciones que estarán en un archivo separado que importaré usando import.

--------------------------------------------------------------------------------------

28/09/2022

En la mañana trajeron los muebles nuevos, así que estuve trabajando en el cuaderno.
A la tarde me puse a pasar el código hecho a la pc. Ya con eso logré hacer que las
bases para el modelo del votante estén terminadas. Puedo generar la grilla, asignar
las posturas de los agentes, evolucionar sus posturas, calcular la fracción de agentes
activos y graficar el sistema. Lo que sigue es pasar todo el código a funciones
externas que después importare. 

Por otra parte, queda pendiente el desarrollar la parte del código donde se calcula
la fracción de enlaces activos porque esta sección es sin duda la que más tarda del
código. Se me ocurre que para que vaya más rápido podría la primera vez hacer la
cuenta, con todo lo que eso puede tardar, y después a partir de ahí simplemente
voy actualizando sólamente a los sujetos que flippean. De esta manera no necesito
hacer tanto laburo de calcular, porque en cada iteración sólo cambia un sujeto a
lo sumo. Además esa matriz eventualmente la necesito para graficar.
Por el lado de armar un gráfico animado, eso va a ser un tema en sí mismo.

Después quiero remarcar que debería actualizar las documentaciones de las carpetas
que hay en Programas Python y en Imágenes porque hay más carpetas que las que dan 
cuenta los archivos y pronto me voy a empezar a olvidar que etapa del trabajo iba
antes de cuál.

----------------------------------------------------------------------------------

29/09/2022

La mayor parte del día me dediqué a la materia de Mininni. A lo último dediqué
unos minutitos a seguir un poco con el código del modelo del votante.

----------------------------------------------------------------------------------

30/09/2022

En la mañana terminé el código del votante y lo mandé a correr. Al principio
tardó mucho en converger, tenía una gran cantidad de agentes. Por consejo
de Pablo le reduje el número de agentes y lo mandé a correr de nuevo y ahora
sí converge. Cuestión, es un código que no va en una única dirección sino que
oscila entre caer a un estado o al otro.

Sobre el modelo de Deffuant, en el día varias cosas diversas me distrajeron un
poco de eso, pero en definitiva ya tengo el esqueleto del código armado, ahora
sólo tengo que organizarlo para que las funciones estén prolijamente anotadas y
el código funcione correctamente. En este caso sólo armaré un gráfico del sistema,
así que ese gráfico tiene que construirse con el array de opiniones que se va
construyendo. Es decir, el armado del gráfico tiene que ser parte de la iteración
del sistema, no puede estar al final.

El lunes termino esto y ya veo que tal queda.

------------------------------------------------------------------------------------

03/10/2022

Le hice los retoques finales al código del modelo del votante y lo mandé a correr
con 10000 agentes. Estuvo toda la tarde corriendo y no convergía, el sistema osciló
entre la solución de todos +1 a todos -1 y a todos +1 de nuevo, no parecía que fuera
a converger nunca. Hablando con pablo me dijo que pruebe ponerle menos agentes y
también le cambié para que no arme tantos gráficos. Esta vez convirgió rápido
dentro de todo.

Mientras todo esto corría, trabajé en el modelo de Deffuant y lo preparé para que
corra y se vea el gráfico similar a lo que se ve en el paper de Statistical
Physics. Logré que el programa funque, las funciones están dentro de todo prolijas
y arma los gráficos.

Por último actualicé la documentación de la carpeta de Programas Python y la de
Imágenes.

--------------------------------------------------------------------------------------

04/10/2022

Estuve toda la mañana leyendo el paper sobre Social Physics que me pasó Pablo, 
la sección sobre Metapoblaciones. Leí la primera parte, mañana termino lo que
falta. Tomé algunas notas en el archivo de Resumenes que está en la carpeta
de Tesis Favio en el Drive. Mañana terminaré esto.

----------------------------------------------------------------------------------------

05/10/2022

Terminé de leer la sección de metapoblaciones del paper de Social Physics y
tomé unas notas en el archivo de Resumenes.

Habiendo terminado el trabajo que me pidió Pablo y leído lo de Metapoblaciones
ahora tengo los siguientes caminos para tomar en el trabajo:

1) Revisar los archivos de simulaciones que armé y que están en la pc de
Oporto.
2) En sintonía con lo anterior, podría intentar emprolijar el archivo de
Python que uso para armar gráficos y demás cosas. En particular considerando
que no me gusta cómo funca la cosa porque siento que hay muchas indentaciones
innecesarias.
3) Modificar la función del segundo término de Baumann usando una función
logística. Esto está bueno porque es una función en la que podemos modificar
la pendiente más fácilmente.
4) Repensar el modelo desde cero, partiendo en un modelo de un tópico.
Pensar en las reglas que quiero que el modelo cumpla, luego pensaré en
cómo armar una ecuación en torno a eso.
5) Leer la bibliografía que tengo, ya sea el archivo de Social Physics completo,
el de Statistical Physics o el de Detección de Comunidades.
6) Armar algún concepto de un modelo o un estudio en base al Republia.

Tengo las siguientes respuestas para organizar cuál debería ser el próximo trabajo
a realizar.

El 1 y 2 no los haría ahora, me parece que ya establecimos que la idea es volver
a la mesa de trabajo y empezar el modelo de nuevo, arrancar con eso sería muy
cercano a una pérdida de tiempo.
La 3 creo que es un paso avanzado, lo haría si ya repensé el modelo primero.
Ya estuve leyendo bibliografía, me gustaría tener algo sobre el modelo para
conversar la próxima vez, así que quizás hasta la semana que viene dejaría
el punto 5 de lado.
El 6 lo empezaré a pensar en mi tiempo libre la semana que viene. Quizás me
traiga el manual del juego a la oficina.

Por tanto, lo razonable es empezar con el punto 4, y en la medida que tenga algo
coherente pensado, intentar involucrar el punto 3 en eso. Ya la semana que viene
volver a tomarme momentos para ir leyendo papers y traerme el manual para
ir leyendo y pensando algo al respecto.

---------------------------------------------------------------------------------

13/10/2022

El 06/10 fue el jueves antes del feriado largo de 4 días de octubre. Creo
que arranqué con la guía 3 de Temas avanzados de fluídos. O quizás
estuve charlando con Pablo sobre los modelos de votante y de Deffuant.
Hice cosas pero no terminé nada.

A la tarde fui a cursar la materia de Fluidos.

Del 07/10 al 10/10 fue feriado y me dediqué a intentar preparar mi prueba
de oposición para el concurso de ayudante de primera.

El martes 11/10 a la mañana el internet no funcaba y la puerta hacia las oficinas
estaba cerrada. Trabajé lo que pude en la prueba de oposición. Después fui al
club de conversación de inglés en la mañana.
Terminado eso, fui a dar una mano para preparar las cosas para la Giambiaggi.
No fui a cursar la práctica pero sí la teórica de la materia de fluídos de Mininni.

El miércoles 12/10 a la mañana ayudé con las acreditaciones de la Giambiaggi,
estuve en las charlas de la mañana y después al mediodía me volví a casa
para terminar durante el resto del día la prueba de oposición. Terminé
la prueba a la noche.

Hoy vine a la Giambiaggi durante la mañana y a la tarde fui a cursar la materia
de Mininni, tanto la teórica como la práctica.

-------------------------------------------------------------------------------------

14/10/2022

Hoy fue el último día de la Giambiaggi. Asistí a las charlas, ayudé con la
organización y cosas y ya me fui a casa después de el brindis final.
No hay mucho que decir, intenté prestar atención a las charlas y listo,
eso es todo.

-------------------------------------------------------------------------------------

17/10/2022

En la mañana llegué y me puse a leer mails. Después fui al curso de listening
y speaking de inglés de los lunes. Más tarde seguí con lo que tenía para hacer 
de mi trabajo.

En la tarde resolví los temas pendientes del modelo del votante y de Deffuant
que me había pedido Pablo. Al modelo del votante le agregué la posibilidad de
usar diversos tipos de redes iniciales y modifiqué el gráfico para que se
forme usando networkx de forma tal que se grafiquen todas las redes, no sólo
la grilla 2d. A los nodos les agregué un nuevo atributo que es el color y usé
eso para irlos coloreando en la red. Y también agregué una condición que se
encargue de asegurarse que la red de Erdos-renyi sea conexa.

En el modelo de Deffuant agregué el armado de un gráfico de las densidades
de agentes que se suma al gráfico ya existente.

---------------------------------------------------------------------------------------

19/10/2022

Hoy estuve haciendo trabajo en la carpeta, puramente lapiz y papel. Plantee
las bases que me parecen correctas para el modelo en 1D y reduje los parámetros
que me resultaron redundantes. Esto llevó a una simplificación del modelo
con una implementación de la función logística en el segundo término. La forma
de esta función y el hecho de que tenga un valor de "activación" permite agregar
control sobre el desencadenamiento que lleva a que los agentes se sobre interesen
en un tema.

--------------------------------------------------------------------------------------

21/10/2022

Hoy hice muy poco, estuve con cosas de inglés, me reuní con Nahuel y fui a la charla
de Serge Haroche, no estuve trabajando mucho. Anoté algunas cosas más en mi carpeta,
pero poco más.

--------------------------------------------------------------------------------------

24/10/2022

En la mañana fui al taller de inglés para el TOEFL. En la tarde estuve trabajando
en el tema de tesis, le sigo dando vueltas al tema de la ecuación dinámica. No me
cierra del todo el cómo usar la función logística. Estaba viendo que por como plantee
la ecuación, una baja controversialidad no me lleva el interés de los agentes al
0, sino al 0,5. Eso no sería tan malo, pero encierra un segundo problema más preocupante,
los únicos temas en los que es accesible el interés nulo es en aquellos en los que
la controversialidad es alta. Eso es totalmente raro.

Lo que me tiene particularmente en conflicto es que aparece un nuevo parámetro que 
un poco me da la sensación de que puedo absorberlo con el alfa, pero si lo pienso mejor
es más útil al modelo si lo dejo como un parámetro aparte. La pregunta es cómo interpretarlo.
Ese parámetro que multiplica a todo el argumento de mi función logística es un poco
como un término de aprendizaje que define cuánto el agente absorbe de su entorno.
Se parece a la influencia social, pero lo raro de eso es que si la suma de las opiniones
de los vecinos es menor al umbral beta, entonces esa influencia social no potencia
el efecto, sino que lo atenúa. Entonces ya no es tan claro el concepto de su funcionamiento.
Aún así, sin interpretación, puede seguir siendo funcional al modelo y quizás valga la
pena no absorberlo en el alfa.

------------------------------------------------------------------------------------------

28/10/2022

Hagamos un repaso rápido.

El 25/10 estuve trabajando en cosas de la materia de fluidos.

El 26/10 me quedé en casa, organicé las carpetas de bibliografía en el drive.

El 27/10 seguí con cosas de la materia de fluidos.

Hoy a la mañana hice ejercicios de inglés, repasé un poco la ecuación dinámica del modelo,
fui a la charla de Pablo, después al DF abierto y listo, fin del día.

Espero la semana que viene dedicarme más. Pero estos talleres y cursadas están comiendo
bastante del tiempo de trabajo. Tengo que considerar que si estuviera dando clases, la cosa
sería así o peor.
