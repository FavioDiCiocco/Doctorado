09/05/2022

Ayer y anteayer estuve mirando el código por arriba. Ya hoy lo agarré y
lo emprolijé borrando varias cosas comentadas. Entre ellas, creo que lo que
estuvo bien borrar son las matrices de agentes activados y la de grado medio
de las redes.

Ahora, yo quiero mandar a correr el sistema, teniendo este opiniones positivas,
un campo externo y un coeficiente que regule la intensidad con la que
las opiniones caen a cero. El coeficiente ya lo agregué y vale 1.
Para que las opiniones sean postivas reemplace el uso de la función Gaussiana
por una distribución uniforme entre [0 y 5]. Me pareció que 5 sería razonable.

Para el campo externo, tengo que agregar un término a la ecuación dinámica que
se sume a todo el resto de agentes, se me ocurre que se sume justo antes
de rearmar la red y que la intensidad del campo externo sea tres o cinco.
Podría barrer en eso también.

¿Qué datos quiero mirar? Me interesa en principio ver las opiniones iniciales
y las finales, la Varprom y el comportamiento de los testigos.

Bien, ya preparé para que se construyan dos archivos, uno que es Opiniones
y toda la perorata, que guarda los siguientes datos:
Opiniones iniciales
Varprom
Opiniones Finales
Semilla

El segundo archivo, que es Testigos y la perorata, guarda las opiniones de
diez testigos de manera que cada columna es la evolución de las opiniones
de un testigo. En realidad cada dos columnas.

Todavía queda agregar el campo externo y ya podemos empezar a ver qué hace esto.
Lo agregué al campo como una influencia que surge en cada iteración previa a que
el sistema rearme la red. 

Creo que está armado el código, lo podemos mandar a correr. Ya revisé y corregí
los errores con el Cygwin. Voy a barrer en el campoext y en lambda, que es la
intensidad del decaimiento.

Ya el programa lo mandé a correr, pero está teniendo problemas. Por algún motivo,
las opiniones no se actualizan. Y además, el cálculo de Varprom me da "inf".

---------------------------------------------------------------------------------

10/05/2022

Hoy es el primer día que vine a la facultad, me instalé en la oficina, descargué
programas, instalé Github Desktop y Notepad ++.

Después pasé el resto del día trabajando en el archivo de main para que el modelo
labure en el caso de tener opiniones positivas en su distribución inicial.
Estuve un buen rato porque había problemas en el código que me costaban encontrar.
Al final lo que ocurría es que estaba pisando un vector no declarado, que es el
vector de los agentes activados. Un vector que había eliminado pero que estaba siendo
llamado en una de las funciones de las redes de actividad. Creo que en la función que
establece los enlaces de los agentes activados.

----------------------------------------------------------------------------------------

16/05/2022

Entre el martes pasado (10/05/2022) y hoy lunes (16/05/2022) no hubo mucho trabajo
porque estuve yendo a la TREFEMAC, mis viejos se fueron y hubo que cuidar a los
perros. Fueron días movidos y complejos. Esta semana me voy a mudar, así que
vamos a ver qué podemos avanzar. Encima está el trabajo del Labo de Datos.
Está fuerte la semana.

Volviendo al trabajo, hoy ya me puse a armar datos del modelo en tres casos:
1) alfa = 0, Cdelta = 0.
2) alfa = 2, Cdelta = 0.
3) alfa = 2, Cdelta = 1.

Lo siguiente es tomar estos datos y armar los gráficos de distribución de opiniones
en el espacio de tópicos.

Ya logré armar los gráficos con los datos que hice. Falta ajustar un poco los gráficos,
pero en líneas generales están. Lo que se observa es un que en los casos de consenso
las opiniones forman una nube cerca del cero en la región positiva del espacio de
tópicos. Algunas opiniones llegan a valores negativos, estudiar eso cómo ocurre.

Por otro lado, los gráficos de distribución de las opiniones 2D en los casos de
polarización descorrelacionada y estado ideológico son indistinguibles. Además,
hay mucha variabilidad en el tiempo. Bah, habría que ver qué significa "mucha".
En principio el programa puede tardar entre 15 y 40 unidades de tiempo.

Lo siguiente sería ver si podemos restringir el espacio de los valores observados
de manera de enfocar mejor el gráfico hacia los datos graficados y que no
sea tanto un gráfico vacío.

Hecho eso, habría que analizar porqué algunos valores se vuelven negativos,
evaluar si los resultados obtenidos tienen sentido con lo esperado y si
habría que hacer nuevos gráficos o modificar el programa.

------------------------------------------------------------------------------

24/05/2022

Lo primero que hice a la mañana fue ajustar los gráficos para poder observar
mejor la distribución de opiniones en el espacio 2D. Si alfa es alto, para casos
de correlación cero o alta correlación, el sistema se comporta exactamente igual
y polariza en el primer cuadrante.

En cambio, para casos de controversialidad negativa el sistema se comporta tal cual
se comportó siempre, polarizando en los cuadrantes 2 y 4. Claramente las condiciones
iniciales no logran determinar el comportamiento del sistema para que este se
encuentre confinado al primer cuadrante.

Luego de eso estuve el resto del día estudiando la expresión de la ecuación dinámica
de la bifurcación transcrítica. Leyendo del Strogatz, básicamente se observa que
esta bifurcación se caracteriza porque dos puntos fijos intercambian estabilidad,
siendo que un punto fijo estable se vuelve inestable mientras que uno inestable
se vuelve estable. Esta ecuación aplicada a nuestro modelo permite que existan dos
puntos fijos, el 0 y el punto fijo (mu/K). Dependiendo del signo de mu, el cero
será un atractor o un repulsor. En particular, si mu es positivo, el cero es un
atractor, mientras que si mu es negativo, el cero es un repulsor. Y respectivamente,
el otro punto será un repulsor o un atractor.

Se me ocurre que esto nos permite proponer un nuevo comportamiento al sistema donde
ahora el primer término de la ecuación dinámica no es únicamente la tendencia de los
agentes a perder su convicción en el tema, sino que puede ser su apatía o interés en
los tópicos y por tanto se puede definir mu positivo para tópicos aburridos y 
mu negativo para tópicos interesantes.

Este análisis junto con la adaptación de la ecuación dinámica del modelo a la
ecuación dinámica de una bifurcación transcrítica están anotados en mi cuaderno.

El jueves sería ideal arrancar modificando la ecuación dinámica en el código,
remover las cosas sobre cálculos de tanh y empezar a observar el comportamiento
del sistema para distintos valores de mu, alfa y cos(delta). Luego de eso,
decidiremos el tema de cómo interpretar este nuevo parámetro. Hagamos la
documentación de esto a medida que voy haciendo los cambios.

---------------------------------------------------------------------------------

25/05/2022

Estuve un rato mirando el tema de la beca y del trámite de título.
Lo importante para hacer es en algún momento charlar sobre anotarme en la 
carrera de doctorado. Eso charlarlo con pablo.

Por otro lado, ya borré todo rastro de la tanh en el código. Modifiqué
la ecuación dinámica para calcular el cuadrado del producto entre la matriz
de superposición y el vector de opinión del agente j. Lo siguiente es empezar
a ver el comportamiento del modelo ante la variación de los parámetros
mu, alfa y Cdelta.

Estuve probando cosas en bash para poder pasar números con fracción directamente
desde Bash a mi programa de C y no tener que andar pasando enteros y sobre esos
armar una fracción para conseguir el número decimal deseado. La cosa es que en
Prueba.sh dejé anotado en los comentarios como se usa el comando bc, por lo menos
de forma rudimentaria. Y también como obtener los datos de un array. Con eso
ya puedo empezar a armar mis arrays en los archivos de Instanciar y desde ahí
pasar directo los valores de alfa y Cdelta deseados.

Con eso hecho, me puse a armar algunos datos del modelo con la ecuación dinámica
adaptada según la ecuación dinámica de una bifurcación transcrítica. Esto salió
mal. El término cuadrático potencia mucho a los agentes con opiniones mayores a
1, y esto hace que refuercen mucho a sus vecinos y el sistema entra en una espiral
de refuerzos que no frena más. Cada vez se aleja más y más. Ese término
cuadrático así pelado no va a servir. Necesitamos algo que contenga a las
opiniones en la región [0,1] para que se pueda usar. Se me ocurrieron formas
de normalizar la opinión, pero creo que hasta charlarlas con Pablo no tiene mucho
sentido explorarlas demasiado.

Hay una en particular que se me ocurrió y creo que estaría interesante. Espero
que Pablo y Sebas opinen lo mismo. Podría mañana mandarle un mensaje a Sebas y
ver qué piensa él al respecto.

----------------------------------------------------------------------------

30/05/2022

Agregué el término de normalización que entiendo es el máximo valor de opinión
que cualquier agente puede alcanzar, y eso sólo es posible si se conecta
con toda la red y además si toda la red está con opinión 1. Claramente este
es un máximo inalcanzable y por eso es que las opiniones de los agentes van
a estar muy tiradas al cero. Podríamos probar y ver si usando valores más
bajos de mu o valores más altos de K permiten que las opiniones de los
agentes despeguen un poco del cero. Pero esto es especulación, hay que hacer
las cuentas.

Para mencionar, también modifiqué en avanzar el Din2, tenía un else para un
if que no hacía realmente nada. Era cuando calculaba la sumatoria de opiniones
del segundo término. Si los agentes estaban conectados aplicaba la función
Din1. Si no estaban conectados, sumaba cero. Pero para sumar cero, directamente
ni pongo el else y listo.

También voy a ir armando carpetas para cada tipo de normalización, cosa de no
confundir los archivos. La carpeta con la normalización sobredimensionada es
Norm_Maxima.

Ya probé el modelo con Norm_Maxima. En el caso de mu positivo el sistema logra
converger y alcanza estados de consenso. Básicamente, lo que está pasando es
que las opiniones son lo suficientemente bajas como para no poder hacerle frente
al término que los tira al cero. En el caso del mu negativo, incluso para el caso
de alfa cero, el sistema eventualmente se dispara. El motivo es que la normalización
con alfa cero es simplemente 1. (Mu = 1). Entonces lo que ocurre es que la derivada
queda igualada a un término que es siempre positivo y por tanto crece en cada iteración.
Las opiniones se escapan.

Me parece que no podemos simplemente plantear el mu en valor positivo. Pero entonces
esta ecuación del punto de bifurcación no sé si tenga sentido de ser usada.

------------------------------------------------------------------------------------

01/06/2022

Lo primero que hice fue copiar el archivo de ActividadConexa.py y lo renombré
estudio_transcritico.py. Este segundo archivo lo usé para armar los gráficos de
Varprom, Tópicos vs T e Histograma 2D de los datos del modelo transcritico normalizado
de forma sobredimensionada. Esto tomó un rato y me hace ver que ese código podría
necesitar una buena pulida para verse mejor. Cosas como el armado del SuperDiccionario
necesitan realizarse mejor. Pero eso quedará para otro momento.

En la tarde estuve haciendo un análisis de las ecuaciones dinámicas del modelo para
el caso de dos agentes. En principio, no llegué a nada todavía. Claramente el estudio de
este tipo de ecuaciones dinámicas es complejo y no se puede encarar directamente.

Se me ocurrió probar de estudiar el comportamiento del sistema en el caso de que
los dos agentes conectados tengan opiniones similares. Me suena razonable
como suposición si considero que las opiniones arrancan en el espacio positivo de
valores y que sólo van a reforzarse. Además, cada uno crece en función de la opinión
del vecino, entonces si sus opiniones tienen valores diferentes, el que tenga opiniones
más pequeñas crecerá más en una iteración que su vecino porque el que tiene opinión más
baja recibirá un impulso más grande de su vecino que tiene opiniones más grandes.

Estuve mirando las ecuaciones dinámicas e intentando estudiar el comportamiento del
sistema para el caso de 2 agentes conectados. Llegué a la conclusión de que para 2
agentes conectados, el sistema presenta dos puntos fijos, uno en el cero y el otro
en el borde que separaba las regiones de consenso y polarización según el paper de
Baumann. Al principio me pareció trivial, pero no creo que sea un resultado tan
trivial si consideramos que partí de una ecuación dinámica completamente diferente.
Quedaría estudiar la estabilidad de estos puntos, cosa que no hice todavía.

Antes de eso, me adelanté a estudiar el comportamiento del sistema con tres agentes.
Creo que eso resultaría bastante interesante y daría una buena comprensión de qué
está pasando. Espero sea resoluble. Lo siguiente sería empezar a simular el modelo
en estos casos y ver que los resultados coinciden con lo predicho analíticamente.

Y de paso, hoy a la tarde asistí al coloquio de física de Luz Ricci (nombre de la
expositora). Estuvo interesante, fue sobre análisis de materiales nanométricos
a través de métodos ópticos, algunas aplicaciones y métodos desarrollados. Eso
es un resumen muy breve.


